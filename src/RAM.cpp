//
// Created by csanders on 10/23/19.
//

#include "RAM.h"

void RAM::init() {
    u8 sprites[80] = {
            0xF0, 0x90, 0x90, 0x90, 0xF0,
            0x20, 0x60, 0x20, 0x20, 0x70,
            0xF0, 0x10, 0xF0, 0x80, 0xF0,
            0xF0, 0x10, 0xF0, 0x10, 0xF0,
            0x90, 0x90, 0xF0, 0x10, 0x10,
            0xF0, 0x80, 0xF0, 0x10, 0xF0,
            0xF0, 0x80, 0xF0, 0x90, 0xF0,
            0xF0, 0x10, 0x20, 0x40, 0x40,
            0xF0, 0x90, 0xF0, 0x90, 0xF0,
            0xF0, 0x90, 0xF0, 0x10, 0xF0,
            0xF0, 0x90, 0xF0, 0x90, 0x90,
            0xE0, 0x90, 0xE0, 0x90, 0xE0,
            0xF0, 0x80, 0x80, 0x80, 0xF0,
            0xE0, 0x90, 0x90, 0x90, 0xE0,
            0xF0, 0x80, 0xF0, 0x80, 0xF0,
            0xF0, 0x80, 0xF0, 0x80, 0x80,
    };

    for (int i = 0; i < 80; ++i) {
        mem[i] = sprites[i];
    }

    for (int i = 81; i < 4096; ++i) {
        mem[i] = 0;
    }
}

u8 RAM::rb(u16 address) {
    return mem[address];
}

void RAM::wb(u16 address, u8 value) {
    mem[address] = value;
}

u16 RAM::get_word(u16 address) {
    u16 res = 0;
    res = rb(address);
    res = res << 8 | rb(address + 1);
    return res;
}